#include "shared_i.h"

#define NUMBER_PERMUTATION 5040
#define NUMBER_ORIENTATION 729
#define NUMBER_MOVES	   9

#define MINIMUM_SCRAMBLE_LENGTH 11
#define MAX_LENGTH				20

#define solveIn(permutation, orientation, length)		  solve(permutation, orientation, length, 0, 0)
#define generateExactly(permutation, orientation, length) solve(permutation, orientation, length, 1, 1)

static const char* const InverseMoveToString[] = {"U'", "U2", "U", "R'", "R2", "R", "F'", "F2", "F"};

static inline uint16_t minimum(const uint16_t x, const uint16_t y) {
	return x < y ? x : y;
}

static uint16_t calculateCost(const uint16_t* const solution, const int8_t index, const uint16_t cost, const int8_t grip) {
	if(index < 0) {
		return cost;
	}

	switch(solution[index]) {
	case 0:
		return calculateCost(solution, index - 1, cost + 7, grip);
	case 1:
		return calculateCost(solution, index - 1, cost + 10, grip);
	case 2:
		return grip == 0 ? calculateCost(solution, index - 1, cost + 8, 0) : grip == -1 ? minimum(calculateCost(solution, index - 1, cost + 28, 0), calculateCost(solution, index - 1, cost + 20, grip)) :
																						  calculateCost(solution, index - 1, cost + 28, 0);
	case 3:
		return grip > -1 ? calculateCost(solution, index - 1, cost + 6, grip - 1) : calculateCost(solution, index - 1, cost + 26, -1);
	case 4:
		return grip ? calculateCost(solution, index - 1, cost + 10, -grip) : minimum(calculateCost(solution, index - 1, cost + 30, -1), calculateCost(solution, index - 1, cost + 30, 1));
	case 5:
		return grip < 1 ? calculateCost(solution, index - 1, cost + 6, grip + 1) : calculateCost(solution, index - 1, cost + 26, 1);
	case 6:
		return grip ? calculateCost(solution, index - 1, cost + 19, grip) : minimum(calculateCost(solution, index - 1, cost + 39, -1), calculateCost(solution, index - 1, cost + 39, 1));
	case 7:
		return grip == -1 ? calculateCost(solution, index - 1, cost + 30, -1) : calculateCost(solution, index - 1, cost + 50, -1);
	case 8:
		return grip == -1 ? calculateCost(solution, index - 1, cost + 10, -1) : calculateCost(solution, index - 1, cost + 30, -1);
	}

	return 0;
}

static void cubeMove(uint16_t* const permutation, uint16_t* const orientation, const uint8_t move) {
	static const uint16_t factorial[] = {1, 1, 2, 6, 24, 120, 720};
	uint8_t cubies[7];
	uint16_t result = *permutation;
	uint32_t value = 0x06543210;
	uint8_t index;
	uint8_t x;
	uint32_t y;

	for(index = 0; index < 6; index++) {
		result -= (x = result / factorial[6 - index]) * factorial[6 - index];
		cubies[index] = (value >> (x <<= 2)) & 0x07;
		y = (1 << x) - 1;
		value = (value & y) + (~y & (value >> 4));
	}

	cubies[6] = value;
	y = 0;
cubiesMove:
	for(index = 0; index <= move % 3; index++) {
		switch(move / 3) {
		case 0:
			x = cubies[0];
			cubies[0] = cubies[2];
			cubies[2] = cubies[3];
			cubies[3] = cubies[1];
			cubies[1] = x;
			break;
		case 1:
			x = cubies[4];
			cubies[4] = (cubies[6] + 8) % 24;
			cubies[6] = (cubies[2] + 16) % 24;
			cubies[2] = (cubies[0] + 8) % 24;
			cubies[0] = (x + 16) % 24;
			break;
		case 2:
			x = cubies[5];
			cubies[5] = (cubies[4] + 8) % 24;
			cubies[4] = (cubies[0] + 16) % 24;
			cubies[0] = (cubies[1] + 8) % 24;
			cubies[1] = (x + 16) % 24;
			break;
		}
	}

	if(y) {
		goto pack;
	}

	result = 0;
	value = 0x06543210;

	for(index = 0; index < 6; index++) {
		result = ((value >> (x = (cubies[index] & 0x07) << 2)) & 0x07) + (7 - index) * result;
		value -= 0x01111110 << x;
	}

	*permutation = result;
	result = *orientation;
	value = 0;

	for(index = 0; index < 6; index++) {
		cubies[5 - index] = (x = result % 3) << 3;
		value += x;
		result /= 3;
	}

	cubies[6] = ((0x028757B2 - value) % 3) << 3;
	y = 1;
	goto cubiesMove;
pack:
	result = 0;

	for(index = 0; index < 6; index++) {
		result = result * 3 + (cubies[index] >> 3);
	}

	*orientation = result;
}

static uint8_t search(const uint16_t permutation, const uint16_t orientation, const uint8_t depth, const uint8_t length, const uint8_t lastMove, uint16_t* const solution, uint16_t* const bestSolution) {
	uint8_t index;

	if(!length) {
		if(permutation || orientation) {
			return 0;
		}

		const uint16_t cost = calculateCost(solution, depth, 0, 0);

		if(cost >= bestSolution[depth]) {
			return 1;
		}

		for(index = 0; index < depth; index++) {
			bestSolution[index] = solution[index];
		}

		bestSolution[depth] = cost;
		return 1;
	}

	static const uint8_t permutationPruningTable[] = {0, 6, 7, 6, 6, 7, 7, 6, 5, 5, 5, 5, 5, 5, 6, 5, 5, 3, 5, 5, 5, 6, 3, 5, 7, 5, 5, 5, 5, 4, 5, 5, 3, 5, 5, 5, 7, 5, 5, 3, 6, 5, 6, 3, 5, 6, 5, 5, 5, 5, 7, 6, 5, 3, 6, 5, 5, 3, 4, 6, 3, 6, 6, 6, 6, 6, 6, 5, 5, 4, 5, 5, 3, 5, 5, 5, 6, 5, 5, 4, 7, 5, 3, 5, 6, 5, 5, 5, 5, 4, 6, 5, 5, 5, 6, 5, 5, 5, 3, 6, 5, 5, 3, 6, 5, 7, 5, 4, 6, 4, 5, 3, 5, 6, 6, 5, 4, 6, 5, 5, 6, 3, 5, 6, 6, 5, 6, 7, 4, 5, 5, 4, 4, 5, 5, 6, 5, 4, 5, 4, 6, 5, 4, 5, 6, 6, 5, 5, 3, 5, 4, 5, 6, 6, 4, 5, 6, 4, 3, 6, 6, 5, 7, 5, 5, 4, 5, 4, 4, 5, 5, 4, 7, 6, 6, 6, 5, 5, 5, 4, 6, 5, 5, 5, 4, 5, 4, 6, 5, 4, 6, 5, 5, 6, 4, 6, 4, 5, 4, 5, 5, 6, 5, 4, 4, 5, 5, 4, 5, 6, 5, 5, 4, 6, 5, 5, 4, 6, 5, 3, 5, 6, 5, 5, 7, 5, 2, 5, 5, 5, 3, 5, 5, 4, 6, 4, 5, 5, 6, 5, 6, 6, 5, 3, 5, 5, 4, 5, 5, 4, 6, 6, 5, 7, 4, 5, 4, 5, 4, 6, 6, 3, 5, 6, 7, 5, 4, 5, 5, 5, 5, 5, 5, 5, 5, 3, 3, 6, 6, 5, 5, 5, 5, 7, 3, 5, 5, 6, 5, 5, 5, 6, 4, 5, 5, 6, 2, 5, 5, 6, 5, 4, 6, 5, 5, 6, 5, 5, 4, 4, 5, 4, 5, 4, 3, 6, 7, 6, 6, 5, 5, 4, 6, 3, 5, 5, 4, 6, 3, 6, 3, 4, 5, 5, 5, 5, 6, 5, 6, 4, 6, 5, 5, 2, 5, 5, 7, 6, 4, 5, 5, 5, 6, 4, 5, 6, 3, 4, 5, 5, 4, 5, 6, 7, 4, 5, 6, 6, 4, 5, 5, 5, 6, 4, 4, 5, 5, 6, 5, 6, 5, 5, 5, 4, 5, 5, 3, 5, 6, 7, 6, 5, 6, 4, 3, 5, 5, 6, 4, 5, 5, 5, 6, 3, 6, 6, 6, 6, 5, 6, 6, 5, 5, 2, 5, 5, 5, 4, 6, 5, 4, 4, 5, 5, 5, 4, 5, 6, 4, 5, 5, 6, 5, 5, 5, 4, 3, 5, 4, 5, 5, 6, 4, 5, 6, 4, 4, 4, 6, 5, 7, 5, 5, 5, 6, 4, 4, 5, 5, 5, 4, 6, 4, 6, 5, 4, 3, 5, 4, 5, 6, 4, 5, 5, 5, 5, 7, 5, 4, 6, 6, 4, 3, 5, 6, 5, 5, 5, 5, 7, 5, 2, 5, 5, 5, 3, 4, 5, 4, 6, 5, 5, 5, 6, 5, 5, 6, 3, 5, 5, 6, 3, 7, 5, 4, 5, 4, 6, 3, 5, 6, 5, 5, 6, 6, 4, 5, 5, 2, 5, 5, 5, 6, 7, 5, 6, 4, 6, 5, 6, 5, 5, 5, 4, 6, 4, 4, 3, 6, 5, 5, 5, 6, 4, 4, 5, 5, 3, 5, 4, 5, 5, 6, 4, 4, 6, 5, 4, 5, 5, 5, 7, 5, 5, 4, 6, 5, 5, 3, 6, 5, 5, 5, 5, 6, 3, 5, 5, 6, 5, 5, 6, 5, 3, 6, 4, 4, 6, 7, 6, 6, 5, 6, 4, 5, 4, 5, 4, 6, 5, 4, 5, 5, 4, 4, 5, 6, 5, 5, 5, 6, 4, 5, 5, 5, 3, 5, 5, 5, 6, 4, 5, 5, 7, 5, 3, 5, 6, 5, 5, 4, 5, 5, 6, 5, 5, 5, 6, 5, 6, 4, 5, 3, 6, 4, 5, 6, 3, 6, 7, 6, 4, 5, 5, 3, 6, 5, 5, 4, 3, 5, 5, 5, 4, 6, 5, 5, 4, 5, 5, 4, 5, 5, 3, 4, 4, 4, 6, 6, 5, 5, 5, 5, 7, 6, 4, 6, 4, 6, 4, 5, 5, 4, 6, 4, 6, 5, 5, 5, 5, 5, 5, 3, 5, 4, 6, 6, 4, 6, 7, 7, 5, 5, 4, 4, 4, 3, 6, 5, 6, 5, 5, 5, 5, 4, 5, 6, 6, 6, 5, 5, 5, 6, 4, 5, 4, 6, 5, 5, 5, 5, 6, 5, 4, 5, 5, 4, 5, 5, 6, 4, 3, 5, 5, 6, 4, 4, 5, 5, 6, 4, 5, 5, 5, 4, 4, 5, 5, 6, 6, 6, 5, 5, 4, 4, 5, 5, 4, 4, 6, 6, 5, 5, 5, 5, 6, 4, 4, 5, 6, 3, 5, 5, 5, 5, 4, 5, 5, 5, 6, 4, 6, 5, 5, 6, 5, 4, 5, 6, 4, 3, 5, 5, 6, 5, 4, 5, 5, 4, 6, 5, 5, 5, 4, 5, 5, 6, 4, 5, 6, 6, 6, 5, 5, 4, 5, 6, 5, 6, 5, 5, 3, 3, 5, 5, 5, 6, 6, 5, 6, 4, 5, 4, 6, 6, 5, 5, 4, 5, 4, 3, 6, 6, 5, 5, 5, 5, 6, 4, 4, 3, 5, 4, 5, 5, 4, 6, 6, 5, 5, 3, 5, 5, 6, 4, 5, 4, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 6, 6, 5, 4, 5, 4, 6, 3, 4, 5, 6, 6, 5, 6, 4, 6, 5, 4, 5, 5, 4, 4, 5, 5, 5, 2, 4, 5, 6, 6, 6, 6, 5, 3, 5, 4, 5, 6, 5, 6, 4, 6, 4, 4, 4, 5, 6, 5, 1, 5, 6, 7, 6, 6, 6, 5, 4, 4, 5, 5, 6, 4, 6, 5, 4, 4, 4, 5, 4, 6, 4, 4, 6, 5, 5, 4, 4, 5, 6, 4, 3, 5, 4, 5, 6, 6, 4, 4, 5, 4, 5, 2, 5, 5, 5, 6, 5, 6, 6, 6, 5, 2, 6, 4, 5, 4, 3, 6, 3, 6, 5, 5, 6, 6, 5, 5, 5, 5, 4, 4, 3, 5, 6, 4, 5, 6, 5, 5, 6, 4, 4, 5, 5, 4, 5, 6, 6, 4, 7, 4, 4, 6, 6, 4, 4, 5, 3, 6, 4, 5, 4, 5, 5, 6, 5, 3, 6, 5, 4, 2, 6, 5, 5, 4, 5, 5, 4, 6, 6, 5, 5, 4, 4, 6, 4, 5, 3, 5, 6, 6, 5, 5, 5, 5, 5, 4, 5, 5, 6, 3, 6, 6, 4, 5, 4, 5, 6, 5, 6, 5, 6, 4, 5, 3, 5, 4, 5, 5, 4, 5, 5, 6, 4, 5, 5, 4, 4, 4, 6, 6, 4, 5, 5, 6, 5, 6, 6, 4, 6, 4, 3, 4, 6, 6, 5, 5, 5, 6, 4, 5, 5, 5, 4, 4, 5, 4, 3, 5, 6, 4, 5, 5, 6, 6, 5, 5, 2, 6, 5, 5, 5, 5, 6, 6, 5, 5, 5, 6, 5, 3, 6, 4, 4, 6, 5, 5, 3, 5, 6, 5, 4, 5, 5, 6, 5, 5, 5, 4, 5, 4, 6, 5, 4, 4, 6, 5, 6, 2, 5, 5, 3, 5, 5, 7, 6, 5, 6, 4, 4, 5, 4, 6, 6, 6, 4, 5, 4, 5, 1, 6, 6, 5, 6, 6, 6, 4, 6, 4, 3, 6, 5, 5, 4, 4, 5, 4, 5, 4, 3, 5, 6, 5, 6, 4, 5, 6, 5, 3, 4, 4, 6, 4, 4, 5, 4, 7, 6, 4, 4, 5, 5, 5, 5, 4, 4, 5, 6, 4, 3, 6, 4, 5, 6, 5, 5, 5, 5, 2, 5, 4, 6, 5, 5, 6, 6, 3, 6, 4, 4, 5, 4, 6, 6, 5, 4, 4, 5, 6, 2, 6, 5, 5, 5, 4, 5, 6, 5, 4, 5, 4, 4, 6, 4, 4, 6, 3, 5, 6, 5, 5, 6, 5, 5, 5, 5, 4, 6, 5, 5, 6, 5, 4, 4, 6, 5, 4, 6, 6, 6, 6, 4, 5, 4, 5, 5, 5, 6, 5, 6, 4, 4, 4, 4, 4, 5, 6, 5, 4, 6, 4, 5, 4, 4, 5, 6, 5, 4, 5, 5, 5, 3, 4, 5, 6, 4, 4, 6, 5, 6, 4, 5, 6, 6, 6, 3, 6, 5, 6, 5, 3, 5, 5, 5, 3, 6, 6, 4, 4, 6, 6, 5, 5, 4, 5, 4, 5, 4, 5, 6, 4, 6, 5, 5, 6, 4, 4, 5, 4, 6, 3, 6, 5, 5, 5, 6, 5, 4, 5, 6, 6, 5, 4, 5, 5, 6, 5, 3, 5, 5, 6, 6, 5, 5, 4, 6, 4, 5, 3, 5, 5, 6, 6, 1, 5, 6, 6, 7, 6, 6, 5, 5, 5, 4, 4, 5, 4, 6, 4, 4, 4, 4, 6, 5, 6, 4, 4, 6, 5, 6, 4, 4, 5, 4, 5, 6, 6, 5, 3, 5, 5, 3, 6, 6, 6, 5, 5, 5, 5, 4, 5, 4, 5, 6, 4, 4, 4, 3, 6, 6, 5, 5, 5, 5, 6, 5, 5, 4, 5, 5, 6, 6, 5, 4, 5, 4, 5, 5, 6, 4, 4, 5, 6, 2, 6, 5, 5, 5, 3, 7, 5, 5, 6, 4, 6, 5, 4, 6, 4, 7, 5, 4, 4, 4, 5, 3, 6, 5, 5, 6, 5, 5, 6, 5, 5, 4, 6, 5, 5, 5, 4, 6, 6, 6, 5, 5, 4, 4, 5, 6, 4, 5, 4, 5, 3, 2, 5, 5, 5, 6, 5, 6, 6, 4, 4, 4, 5, 4, 5, 5, 6, 5, 4, 6, 5, 3, 5, 4, 6, 6, 5, 5, 4, 4, 5, 4, 5, 5, 5, 5, 4, 6, 4, 4, 5, 6, 6, 6, 6, 5, 4, 5, 4, 5, 5, 5, 6, 4, 6, 4, 4, 4, 4, 6, 5, 6, 6, 5, 4, 5, 4, 6, 1, 5, 6, 6, 6, 4, 6, 4, 6, 6, 3, 5, 5, 4, 4, 4, 5, 5, 4, 5, 5, 5, 6, 5, 6, 5, 5, 4, 5, 5, 5, 4, 6, 5, 4, 5, 4, 6, 5, 3, 4, 6, 5, 4, 5, 4, 5, 3, 6, 5, 5, 5, 6, 5, 4, 4, 5, 6, 6, 6, 5, 4, 4, 5, 3, 4, 4, 5, 4, 6, 6, 5, 6, 4, 6, 6, 5, 5, 5, 6, 5, 5, 4, 4, 6, 4, 3, 6, 6, 4, 5, 4, 6, 4, 5, 5, 4, 5, 6, 5, 4, 5, 5, 4, 3, 6, 5, 4, 4, 5, 6, 4, 6, 4, 5, 5, 3, 5, 6, 4, 6, 6, 5, 3, 5, 4, 4, 4, 6, 5, 4, 7, 4, 4, 6, 5, 4, 5, 6, 5, 5, 5, 4, 4, 4, 6, 6, 5, 5, 4, 5, 6, 4, 5, 6, 5, 6, 4, 5, 5, 4, 5, 5, 6, 5, 5, 3, 4, 5, 5, 5, 6, 4, 5, 5, 5, 5, 4, 4, 5, 5, 5, 5, 5, 5, 5, 6, 2, 5, 6, 6, 6, 4, 6, 3, 4, 5, 5, 5, 5, 5, 4, 4, 6, 3, 5, 5, 6, 6, 6, 5, 6, 6, 6, 3, 6, 5, 3, 5, 5, 5, 3, 5, 6, 6, 4, 4, 6, 6, 5, 5, 5, 4, 5, 5, 4, 5, 5, 4, 4, 6, 6, 3, 5, 4, 5, 6, 5, 5, 2, 5, 4, 5, 5, 6, 6, 5, 5, 4, 4, 6, 5, 3, 6, 5, 4, 5, 5, 5, 6, 4, 5, 5, 4, 5, 5, 5, 4, 6, 6, 5, 2, 5, 5, 4, 6, 6, 6, 6, 3, 5, 4, 5, 6, 5, 6, 5, 6, 4, 4, 4, 5, 4, 5, 6, 5, 4, 6, 3, 5, 4, 5, 4, 6, 5, 3, 5, 5, 6, 2, 4, 5, 6, 4, 5, 5, 5, 6, 4, 5, 5, 6, 5, 3, 5, 4, 6, 6, 4, 5, 5, 5, 3, 5, 6, 5, 4, 6, 5, 5, 5, 4, 5, 3, 6, 4, 6, 5, 4, 6, 4, 5, 6, 4, 4, 6, 5, 6, 2, 5, 5, 4, 5, 6, 5, 4, 5, 5, 5, 6, 5, 4, 4, 6, 5, 5, 3, 5, 5, 4, 5, 5, 5, 6, 5, 6, 4, 5, 5, 5, 6, 6, 6, 4, 5, 4, 5, 3, 6, 5, 4, 6, 6, 6, 5, 6, 4, 4, 5, 5, 5, 4, 4, 5, 5, 5, 3, 4, 6, 6, 5, 5, 5, 4, 6, 5, 4, 4, 5, 6, 5, 4, 6, 4, 7, 6, 4, 4, 6, 5, 5, 4, 4, 4, 5, 5, 3, 4, 6, 5, 5, 6, 6, 5, 5, 6, 2, 5, 5, 5, 5, 6, 6, 5, 4, 5, 4, 4, 6, 5, 6, 6, 5, 4, 4, 4, 5, 3, 6, 5, 6, 5, 5, 5, 6, 5, 4, 6, 5, 5, 5, 4, 4, 5, 5, 6, 5, 6, 2, 3, 5, 5, 4, 5, 6, 5, 6, 4, 5, 4, 6, 6, 5, 5, 4, 4, 5, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 4, 6, 5, 5, 5, 4, 5, 6, 5, 6, 3, 4, 5, 5, 4, 4, 5, 5, 4, 4, 5, 5, 5, 5, 6, 4, 5, 5, 5, 6, 3, 5, 6, 5, 6, 3, 5, 4, 6, 4, 3, 6, 6, 5, 4, 5, 5, 6, 6, 4, 5, 5, 4, 3, 4, 6, 6, 2, 4, 6, 6, 5, 6, 5, 5, 4, 5, 4, 4, 6, 4, 6, 4, 5, 4, 3, 5, 6, 5, 4, 6, 5, 5, 4, 4, 5, 4, 5, 6, 6, 4, 6, 5, 5, 4, 5, 6, 5, 6, 4, 5, 4, 6, 4, 6, 4, 5, 5, 5, 5, 5, 6, 4, 5, 5, 4, 5, 4, 5, 5, 5, 4, 4, 5, 5, 5, 4, 5, 6, 5, 5, 5, 5, 5, 3, 5, 6, 4, 6, 5, 5, 4, 6, 5, 4, 5, 5, 4, 3, 5, 6, 5, 5, 5, 6, 6, 5, 3, 5, 6, 4, 5, 4, 4, 5, 4, 4, 4, 6, 5, 4, 5, 5, 5, 5, 5, 5, 5, 6, 4, 3, 6, 4, 6, 4, 4, 6, 5, 4, 5, 5, 5, 4, 5, 4, 6, 6, 3, 5, 5, 6, 5, 4, 4, 5, 5, 5, 5, 2, 6, 5, 6, 6, 5, 5, 4, 6, 4, 5, 3, 4, 5, 6, 5, 1, 6, 6, 6, 6, 6, 6, 5, 5, 4, 4, 5, 5, 5, 5, 5, 4, 4, 5, 5, 5, 5, 4, 4, 5, 5, 5, 4, 4, 5, 5, 5, 6, 5, 6, 3, 6, 5, 2, 5, 6, 5, 4, 5, 6, 5, 5, 5, 5, 4, 6, 5, 4, 5, 2, 6, 5, 5, 6, 6, 4, 5, 6, 5, 4, 5, 4, 6, 6, 5, 4, 5, 4, 5, 6, 6, 5, 4, 5, 6, 3, 5, 4, 4, 5, 3, 6, 4, 6, 5, 4, 6, 5, 5, 5, 4, 4, 4, 4, 4, 5, 5, 5, 6, 5, 5, 4, 3, 6, 5, 5, 5, 3, 5, 5, 5, 5, 5, 6, 4, 5, 5, 5, 4, 4, 5, 5, 5, 3, 6, 5, 6, 5, 4, 5, 6, 5, 5, 5, 6, 5, 2, 5, 6, 6, 5, 5, 5, 5, 5, 3, 5, 5, 6, 4, 6, 4, 5, 5, 3, 5, 6, 4, 5, 5, 6, 5, 4, 4, 5, 5, 5, 4, 6, 6, 6, 4, 5, 5, 3, 5, 4, 5, 6, 5, 3, 5, 6, 4, 6, 5, 6, 5, 4, 3, 5, 5, 4, 5, 4, 5, 6, 4, 3, 5, 6, 4, 4, 6, 3, 6, 4, 4, 6, 5, 6, 5, 6, 4, 5, 4, 5, 2, 6, 6, 4, 5, 6, 6, 4, 6, 4, 4, 5, 6, 5, 3, 4, 5, 4, 5, 4, 6, 6, 4, 5, 6, 5, 5, 3, 4, 4, 3, 5, 4, 6, 5, 6, 6, 4, 5, 5, 4, 5, 5, 5, 4, 6, 6, 3, 6, 4, 4, 4, 5, 6, 5, 4, 5, 5, 5, 4, 6, 4, 3, 6, 5, 5, 5, 3, 4, 5, 5, 4, 6, 5, 4, 4, 3, 6, 4, 5, 6, 5, 3, 4, 6, 4, 6, 5, 6, 4, 4, 5, 5, 4, 4, 5, 5, 3, 6, 4, 5, 4, 3, 5, 4, 6, 4, 5, 5, 6, 6, 3, 3, 6, 4, 6, 6, 3, 5, 6, 5, 6, 3, 6, 4, 5, 6, 5, 5, 4, 6, 4, 3, 4, 5, 5, 4, 6, 4, 5, 5, 6, 5, 4, 6, 2, 5, 5, 6, 6, 5, 4, 5, 6, 5, 4, 6, 4, 5, 6, 5, 4, 5, 5, 6, 6, 3, 5, 6, 5, 5, 4, 4, 4, 4, 5, 4, 4, 5, 6, 5, 4, 5, 5, 5, 5, 5, 5, 5, 4, 4, 6, 4, 5, 6, 5, 3, 5, 6, 6, 5, 4, 3, 5, 5, 6, 6, 5, 6, 4, 6, 4, 4, 6, 5, 4, 4, 5, 3, 6, 5, 5, 5, 4, 6, 3, 5, 5, 6, 5, 4, 6, 6, 4, 3, 6, 5, 4, 6, 5, 4, 5, 6, 6, 3, 6, 5, 5, 5, 5, 5, 4, 5, 5, 6, 6, 5, 4, 6, 4, 6, 5, 6, 2, 6, 5, 1, 6, 6, 6, 5, 5, 6, 5, 5, 4, 4, 6, 4, 5, 5, 4, 6, 4, 5, 4, 5, 5, 5, 6, 6, 4, 4, 5, 3, 6, 6, 5, 4, 6, 5, 4, 4, 6, 6, 5, 3, 5, 5, 6, 7, 5, 6, 5, 4, 5, 4, 4, 6, 3, 6, 5, 5, 5, 5, 5, 5, 6, 5, 5, 6, 5, 4, 5, 4, 4, 4, 5, 4, 5, 7, 4, 6, 5, 5, 3, 6, 4, 5, 6, 4, 6, 4, 5, 6, 4, 2, 6, 5, 6, 6, 5, 6, 6, 6, 1, 6, 4, 5, 4, 4, 5, 5, 5, 5, 6, 4, 5, 5, 6, 5, 4, 4, 5, 7, 4, 6, 4, 4, 6, 5, 5, 4, 5, 5, 5, 5, 5, 5, 4, 5, 5, 3, 5, 5, 4, 6, 6, 4, 6, 5, 5, 4, 6, 5, 6, 5, 4, 5, 3, 5, 4, 6, 5, 4, 4, 5, 5, 5, 4, 4, 4, 5, 5, 6, 4, 6, 4, 3, 5, 4, 5, 6, 6, 6, 6, 5, 4, 4, 6, 4, 4, 4, 5, 5, 6, 6, 4, 6, 4, 4, 5, 5, 5, 4, 6, 5, 3, 6, 4, 5, 5, 6, 6, 3, 6, 5, 6, 4, 5, 4, 5, 6, 3, 6, 6, 5, 5, 6, 6, 4, 5, 5, 5, 5, 5, 4, 5, 6, 5, 5, 5, 5, 5, 4, 6, 5, 5, 5, 5, 4, 5, 6, 5, 5, 6, 5, 4, 5, 6, 6, 5, 5, 5, 6, 6, 5, 2, 6, 5, 2, 6, 5, 5, 5, 4, 6, 5, 4, 4, 5, 6, 5, 5, 5, 3, 5, 5, 3, 5, 6, 6, 6, 4, 6, 4, 4, 5, 5, 5, 5, 5, 5, 3, 6, 4, 5, 5, 6, 5, 4, 6, 5, 4, 4, 4, 5, 5, 6, 4, 6, 4, 4, 5, 3, 4, 6, 5, 5, 6, 5, 4, 3, 5, 5, 6, 5, 4, 4, 6, 6, 4, 5, 5, 4, 5, 6, 4, 4, 5, 6, 5, 5, 6, 6, 3, 4, 6, 5, 5, 2, 5, 6, 6, 6, 5, 5, 5, 6, 2, 6, 5, 5, 5, 3, 5, 4, 5, 5, 6, 4, 4, 3, 5, 6, 6, 4, 5, 4, 6, 6, 4, 5, 5, 4, 5, 5, 6, 4, 4, 6, 5, 4, 5, 3, 5, 6, 5, 6, 4, 5, 4, 5, 4, 6, 5, 4, 5, 5, 6, 2, 4, 6, 6, 4, 5, 5, 5, 5, 4, 6, 4, 5, 5, 3, 5, 4, 5, 3, 4, 5, 6, 3, 5, 6, 5, 4, 5, 5, 5, 6, 4, 5, 5, 5, 4, 5, 4, 4, 7, 5, 6, 5, 4, 4, 4, 3, 5, 5, 6, 6, 4, 6, 4, 6, 5, 4, 5, 6, 4, 4, 5, 4, 4, 5, 5, 4, 6, 4, 6, 5, 4, 4, 3, 5, 6, 6, 5, 4, 5, 5, 3, 4, 4, 5, 4, 6, 5, 4, 6, 4, 6, 5, 4, 5, 5, 6, 4, 3, 5, 4, 6, 5, 5, 6, 6, 5, 5, 4, 6, 3, 5, 5, 3, 5, 6, 5, 4, 5, 4, 4, 3, 6, 5, 5, 5, 5, 5, 4, 6, 5, 6, 6, 5, 5, 6, 4, 5, 6, 4, 4, 5, 5, 4, 4, 6, 5, 4, 6, 5, 5, 6, 6, 5, 5, 6, 5, 4, 4, 4, 5, 3, 6, 5, 5, 7, 5, 6, 3, 6, 5, 5, 6, 5, 5, 5, 5, 5, 5, 5, 5, 3, 6, 6, 4, 6, 4, 6, 5, 4, 5, 5, 5, 5, 3, 5, 4, 6, 5, 5, 5, 6, 5, 5, 4, 5, 4, 4, 5, 5, 4, 6, 4, 6, 5, 3, 5, 4, 6, 6, 6, 6, 4, 5, 6, 4, 4, 6, 5, 6, 5, 4, 6, 5, 4, 2, 6, 6, 4, 5, 5, 6, 5, 4, 4, 5, 4, 5, 5, 5, 6, 4, 4, 6, 6, 5, 5, 5, 4, 6, 5, 4, 5, 5, 6, 4, 4, 5, 5, 5, 6, 4, 4, 6, 6, 5, 4, 5, 3, 6, 4, 5, 4, 5, 6, 5, 5, 5, 4, 5, 4, 4, 5, 4, 5, 4, 5, 6, 3, 4, 4, 5, 5, 5, 6, 5, 6, 4, 6, 4, 5, 4, 6, 6, 4, 4, 4, 5, 3, 6, 5, 5, 5, 3, 6, 5, 4, 5, 5, 6, 5, 6, 5, 4, 6, 4, 3, 5, 6, 5, 5, 5, 4, 5, 4, 4, 5, 5, 5, 4, 4, 5, 3, 5, 6, 3, 6, 6, 5, 6, 5, 6, 2, 6, 5, 5, 6, 5, 5, 6, 6, 4, 6, 6, 6, 4, 6, 4, 4, 5, 4, 6, 2, 4, 5, 4, 5, 6, 6, 5, 5, 4, 5, 4, 5, 5, 5, 4, 6, 4, 3, 4, 5, 5, 5, 6, 5, 5, 5, 4, 4, 4, 4, 5, 4, 6, 6, 4, 4, 5, 5, 5, 5, 4, 6, 4, 6, 5, 4, 4, 4, 5, 6, 5, 6, 5, 5, 5, 6, 5, 4, 5, 6, 6, 4, 4, 4, 6, 5, 4, 5, 5, 6, 5, 6, 6, 5, 5, 3, 5, 6, 4, 5, 4, 5, 5, 6, 3, 4, 5, 5, 6, 5, 6, 5, 5, 5, 3, 4, 4, 6, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 6, 6, 4, 5, 5, 5, 4, 3, 4, 5, 4, 6, 5, 5, 5, 5, 4, 4, 6, 5, 5, 5, 5, 5, 5, 4, 4, 6, 5, 5, 6, 3, 5, 4, 6, 5, 5, 6, 6, 5, 4, 4, 5, 6, 4, 5, 5, 5, 4, 5, 5, 4, 4, 5, 5, 6, 6, 4, 4, 6, 5, 4, 6, 5, 6, 5, 6, 5, 6, 5, 3, 3, 5, 5, 5, 4, 6, 5, 6, 5, 4, 5, 3, 4, 4, 5, 6, 4, 3, 4, 5, 4, 6, 5, 6, 5, 5, 4, 5, 5, 5, 5, 5, 5, 6, 3, 6, 4, 5, 5, 2, 5, 6, 4, 5, 5, 6, 5, 5, 5, 5, 5, 5, 4, 5, 3, 4, 4, 3, 5, 6, 5, 3, 5, 6, 5, 6, 5, 5, 4, 5, 6, 3, 4, 6, 5, 6, 5, 3, 6, 4, 6, 4, 3, 5, 3, 6, 6, 4, 5, 6, 5, 5, 5, 5, 4, 4, 6, 6, 5, 3, 6, 4, 2, 5, 5, 6, 5, 6, 6, 6, 5, 5, 4, 3, 4, 6, 3, 5, 5, 5, 5, 4, 4, 5, 5, 4, 6, 5, 4, 5, 4, 5, 4, 4, 6, 5, 5, 4, 5, 4, 6, 3, 6, 4, 4, 5, 4, 6, 6, 3, 6, 3, 4, 4, 5, 6, 5, 4, 5, 5, 4, 4, 6, 4, 4, 6, 5, 4, 5, 4, 3, 3, 5, 5, 4, 5, 5, 4, 6, 4, 5, 6, 5, 4, 3, 6, 4, 5, 4, 6, 4, 6, 6, 4, 4, 4, 5, 4, 5, 5, 2, 6, 5, 6, 6, 5, 5, 5, 6, 3, 5, 5, 5, 5, 6, 5, 2, 6, 6, 6, 6, 5, 6, 5, 5, 5, 4, 5, 5, 3, 5, 5, 5, 4, 5, 5, 5, 5, 4, 5, 5, 5, 5, 4, 3, 5, 5, 4, 6, 5, 6, 4, 6, 5, 1, 5, 6, 5, 5, 4, 6, 5, 5, 5, 5, 4, 6, 5, 4, 6, 2, 6, 5, 5, 5, 5, 4, 5, 6, 4, 4, 4, 4, 6, 6, 4, 4, 5, 4, 4, 6, 6, 6, 4, 5, 6, 4, 5, 4, 5, 5, 4, 6, 4, 5, 6, 5, 6, 6, 5, 5, 3, 5, 6, 6, 5, 4, 5, 4, 6, 5, 4, 6, 4, 4, 2, 5, 6, 5, 5, 5, 6, 4, 6, 4, 5, 6, 5, 4, 6, 4, 5, 4, 5, 4, 3, 5, 5, 5, 6, 5, 4, 5, 4, 6, 3, 5, 5, 6, 6, 5, 5, 5, 5, 5, 5, 4, 3, 5, 5, 6, 5, 3, 6, 6, 5, 6, 4, 6, 6, 5, 4, 4, 5, 5, 6, 3, 3, 4, 5, 6, 4, 4, 5, 3, 6, 6, 5, 4, 6, 5, 4, 5, 4, 5, 4, 6, 5, 5, 5, 6, 6, 3, 6, 5, 5, 5, 4, 4, 4, 4, 5, 4, 6, 6, 6, 6, 4, 5, 6, 4, 5, 5, 5, 4, 4, 5, 6, 6, 5, 5, 3, 6, 4, 5, 5, 6, 6, 4, 5, 5, 4, 4, 6, 5, 5, 5, 5, 4, 5, 4, 6, 4, 3, 5, 5, 6, 5, 5, 5, 4, 5, 4, 4, 5, 4, 6, 4, 4, 6, 4, 6, 4, 6, 5, 3, 6, 4, 6, 5, 3, 5, 4, 6, 6, 3, 5, 6, 5, 5, 5, 5, 4, 4, 5, 5, 6, 2, 6, 5, 4, 6, 4, 4, 4, 5, 5, 5, 5, 6, 6, 3, 5, 5, 5, 5, 6, 5, 6, 4, 4, 5, 4, 6, 6, 5, 5, 6, 5, 4, 6, 5, 2, 4, 5, 5, 6, 4, 6, 5, 4, 5, 4, 3, 5, 4, 5, 5, 5, 6, 4, 6, 4, 6, 4, 5, 6, 6, 4, 4, 5, 4, 6, 3, 5, 5, 5, 4, 5, 5, 4, 5, 4, 6, 5, 6, 4, 4, 5, 4, 5, 6, 5, 6, 5, 5, 5, 6, 5, 4, 4, 5, 5, 4, 4, 5, 5, 6, 5, 4, 5, 4, 4, 4, 5, 6, 4, 5, 4, 5, 3, 6, 4, 6, 5, 5, 4, 5, 5, 3, 4, 5, 5, 6, 4, 6, 5, 6, 5, 1, 5, 6, 4, 5, 5, 6, 5, 5, 5, 5, 5, 5, 5, 5, 3, 4, 5, 5, 5, 6, 6, 3, 5, 6, 4, 6, 6, 6, 4, 5, 5, 4, 5, 6, 5, 4, 6, 3, 5, 4, 5, 4, 5, 6, 5, 5, 5, 4, 4, 4, 4, 5, 4, 5, 6, 5, 4, 5, 5, 5, 4, 4, 5, 5, 6, 6, 4, 4, 5, 6, 6, 4, 6, 5, 6, 5, 6, 5, 3, 5, 6, 6, 3, 5, 4, 6, 5, 2, 6, 5, 6, 5, 6, 6, 5, 5, 3, 4, 6, 4, 5, 3, 5, 5, 6, 2, 6, 6, 5, 6, 5, 6, 5, 5, 5, 4, 3, 5, 5, 5, 4, 5, 5, 5, 5, 5, 5, 4, 5, 6, 6, 4, 5, 4, 5, 4, 3, 4, 5, 5, 6, 5, 4, 5, 4, 5, 3, 6, 5, 5, 6, 6, 6, 5, 6, 5, 4, 5, 3, 5, 5, 6, 5, 4, 5, 3, 4, 6, 6, 5, 5, 4, 5, 5, 4, 4, 5, 3, 5, 5, 6, 4, 6, 5, 4, 5, 3, 5, 4, 4, 6, 5, 3, 4, 5, 4, 6, 4, 6, 5, 6, 6, 4, 4, 6, 4, 4, 5, 5, 5, 5, 6, 6, 6, 5, 5, 5, 3, 4, 6, 4, 5, 5, 5, 5, 6, 4, 5, 4, 6, 5, 4, 4, 6, 4, 4, 6, 2, 5, 5, 5, 5, 4, 6, 5, 4, 4, 6, 3, 3, 6, 5, 4, 5, 5, 6, 6, 4, 4, 5, 4, 6, 5, 4, 6, 3, 5, 4, 5, 6, 4, 5, 5, 3, 3, 6, 6, 6, 5, 5, 4, 5, 5, 4, 6, 5, 6, 5, 2, 6, 5, 6, 5, 5, 5, 6, 5, 5, 5, 4, 5, 5, 5, 5, 6, 5, 6, 3, 5, 4, 2, 5, 6, 5, 5, 4, 6, 5, 5, 5, 3, 6, 5, 4, 6, 5, 6, 5, 5, 5, 3, 5, 4, 4, 5, 6, 5, 5, 5, 5, 5, 5, 4, 5, 6, 4, 5, 4, 6, 3, 4, 5, 5, 5, 4, 4, 3, 6, 4, 4, 6, 5, 6, 4, 4, 5, 6, 4, 6, 6, 5, 5, 3, 6, 5, 4, 6, 4, 6, 6, 5, 5, 4, 5, 4, 4, 6, 4, 5, 4, 6, 5, 4, 6, 5, 4, 6, 4, 4, 6, 6, 6, 4, 6, 4, 5, 4, 2, 5, 6, 4, 5, 5, 6, 5, 4, 5, 5, 5, 5, 5, 4, 4, 3, 3, 4, 6, 5, 3, 5, 6, 5, 6, 5, 5, 5, 5, 4, 3, 6, 6, 4, 4, 6, 5, 5, 4, 5, 4, 3, 4, 5, 5, 6, 5, 5, 4, 5, 6, 4, 5, 5, 5, 5, 3, 3, 4, 5, 5, 5, 6, 5, 4, 5, 6, 3, 5, 4, 4, 5, 4, 6, 4, 5, 6, 4, 6, 4, 6, 6, 4, 4, 6, 4, 4, 5, 4, 6, 6, 5, 6, 5, 5, 4, 5, 4, 5, 6, 3, 5, 5, 6};
	static const uint8_t orientationPruningTable[] = {0, 5, 5, 6, 5, 5, 5, 6, 5, 4, 4, 4, 4, 4, 4, 5, 4, 5, 4, 4, 4, 5, 4, 5, 4, 4, 4, 5, 3, 5, 3, 4, 4, 4, 4, 4, 3, 4, 5, 4, 5, 5, 5, 5, 6, 5, 5, 5, 4, 5, 4, 4, 5, 5, 5, 5, 3, 4, 3, 5, 4, 3, 4, 6, 4, 5, 2, 5, 5, 4, 2, 4, 4, 5, 4, 5, 6, 5, 4, 5, 6, 5, 3, 5, 4, 4, 3, 4, 3, 5, 4, 4, 5, 4, 5, 6, 6, 5, 5, 6, 4, 5, 2, 4, 4, 5, 2, 5, 3, 3, 2, 4, 4, 4, 5, 5, 5, 5, 5, 4, 5, 4, 5, 5, 4, 6, 3, 5, 4, 5, 5, 5, 4, 3, 5, 5, 5, 5, 4, 5, 5, 5, 4, 5, 3, 4, 4, 5, 5, 3, 4, 5, 4, 4, 3, 4, 4, 5, 4, 5, 3, 5, 5, 5, 3, 4, 4, 4, 4, 4, 3, 5, 5, 5, 5, 5, 4, 4, 4, 5, 4, 5, 3, 6, 5, 5, 4, 5, 5, 5, 5, 5, 5, 4, 5, 5, 5, 4, 5, 4, 4, 5, 6, 5, 5, 4, 6, 4, 5, 4, 5, 4, 6, 6, 5, 5, 3, 2, 3, 5, 5, 5, 4, 4, 4, 4, 3, 5, 4, 3, 5, 5, 5, 5, 5, 5, 4, 4, 6, 5, 5, 5, 4, 4, 4, 4, 4, 3, 4, 5, 4, 5, 4, 4, 3, 3, 4, 5, 5, 4, 5, 5, 4, 4, 4, 4, 5, 5, 5, 5, 4, 4, 5, 3, 5, 5, 5, 4, 5, 5, 5, 4, 5, 3, 5, 4, 5, 5, 5, 5, 5, 5, 5, 4, 5, 4, 6, 5, 5, 5, 5, 4, 4, 3, 4, 4, 4, 4, 4, 4, 5, 5, 3, 3, 5, 5, 5, 5, 4, 4, 6, 5, 5, 6, 4, 3, 5, 4, 5, 5, 5, 4, 5, 5, 4, 5, 4, 4, 4, 5, 5, 5, 4, 4, 4, 5, 5, 3, 4, 5, 4, 5, 4, 5, 5, 4, 4, 4, 5, 5, 6, 4, 6, 5, 5, 4, 6, 5, 5, 5, 4, 4, 5, 3, 4, 5, 4, 4, 4, 4, 5, 5, 5, 4, 5, 3, 6, 5, 5, 5, 5, 4, 5, 4, 5, 5, 6, 5, 5, 5, 4, 5, 6, 4, 5, 6, 5, 4, 2, 5, 5, 4, 1, 5, 4, 4, 4, 5, 4, 5, 4, 3, 4, 4, 4, 4, 3, 5, 4, 5, 3, 5, 4, 4, 3, 5, 5, 2, 4, 5, 3, 5, 5, 5, 4, 4, 5, 4, 4, 5, 6, 5, 5, 4, 5, 5, 5, 5, 4, 3, 4, 5, 4, 2, 4, 4, 6, 4, 3, 4, 4, 5, 4, 5, 5, 5, 3, 5, 4, 4, 4, 5, 5, 5, 4, 5, 4, 4, 4, 5, 4, 5, 3, 4, 4, 5, 4, 4, 5, 5, 5, 5, 4, 4, 4, 3, 4, 5, 5, 4, 3, 4, 5, 6, 5, 4, 1, 5, 4, 5, 2, 5, 4, 4, 4, 5, 5, 3, 3, 5, 4, 4, 4, 4, 4, 3, 4, 4, 5, 5, 3, 5, 4, 5, 5, 4, 4, 5, 5, 4, 4, 4, 4, 5, 4, 5, 3, 5, 5, 4, 5, 5, 5, 5, 4, 4, 4, 5, 5, 5, 4, 4, 3, 4, 5, 4, 5, 5, 5, 6, 5, 5, 4, 4, 6, 4, 4, 4, 3, 3, 5, 5, 5, 4, 4, 5, 3, 4, 4, 6, 4, 2, 4, 4, 5, 4, 5, 4, 5, 5, 5, 4, 3, 4, 4, 5, 3, 5, 5, 5, 4, 5, 4, 4, 5, 3, 6, 5, 4, 5, 6, 5, 5, 4, 5, 6, 5, 5, 4, 5, 5, 5, 5, 4, 5, 5, 4, 5, 4, 5, 4, 5, 5, 4, 3, 5, 5, 5, 5, 5, 5, 4, 6, 5, 4, 5, 5, 5, 4, 5, 5, 4, 5, 5, 3, 3, 4, 4, 4, 5, 3, 5, 2, 5, 6, 5, 5, 5, 4, 5, 5, 4, 5, 5, 5, 5, 5, 4, 4, 4, 4, 5, 5, 4, 5, 5, 5, 4, 4, 5, 4, 4, 4, 5, 4, 5, 4, 5, 3, 4, 6, 6, 4, 6, 5, 5, 5, 4, 5};

	if((permutationPruningTable[permutation] > length) || (orientationPruningTable[orientation] > length)) {
		return 0;
	}

	uint8_t solutionFound = 0;
	uint16_t permutationNew;
	uint16_t orientationNew;

	for(index = 0; index < NUMBER_MOVES; index++) {
		if((index / 3) == (lastMove / 3)) {
			continue;
		}

		permutationNew = permutation;
		orientationNew = orientation;
		cubeMove(&permutationNew, &orientationNew, index);
		solution[depth] = index;
		solutionFound |= search(permutationNew, orientationNew, depth + 1, length - 1, index, solution, bestSolution);
	}

	return solutionFound;
}

static char* solve(const uint16_t permutation, const uint16_t orientation, const uint8_t desiredLength, const uint8_t exactLength, const uint8_t inverse) {
	uint16_t solution[MAX_LENGTH];
	uint16_t bestSolution[MAX_LENGTH + 1];
	uint8_t solutionFound = 0;
	uint8_t length = exactLength ? desiredLength : 0;
	uint8_t index;

	for(index = 0; index < MAX_LENGTH; index++) {
		solution[index] = 0;
		bestSolution[index] = 0;
	}

	bestSolution[MAX_LENGTH] = 0;

	while(length <= desiredLength) {
		bestSolution[length] = (uint16_t) 0x028757B2;

		if(search(permutation, orientation, 0, length, 42, solution, bestSolution)) {
			solutionFound = 1;
			break;
		}

		length++;
	}

	if(!solutionFound || !length || !inverse) {
		return 0;
	}

	uint32_t size = length;

	for(index = 0; index < length; index++) {
		size += ((bestSolution[index] % 3) == 2) ? 1 : 2;
	}

	char* buffer = malloc(sizeof(char) * size);

	if(!buffer) {
		return 0;
	}

	uint32_t pointer = 0;

	for(index = 0; index < length; index++) {
		if(index) {
			buffer[pointer++] = ' ';
		}

		buffer[pointer++] = ((char*) InverseMoveToString[bestSolution[length - index - 1]])[0];

		if(bestSolution[length - index - 1] % 3 != 2) {
			buffer[pointer++] = ((char*) InverseMoveToString[bestSolution[length - index - 1]])[1];
		}
	}

	buffer[size - 1] = 0;
	return buffer;
}

static char* generateRandomMoves(int64_t* const seed) {
	uint16_t permutation = InternalRandomNextInt(seed, NUMBER_PERMUTATION);
	uint16_t orientation = InternalRandomNextInt(seed, NUMBER_ORIENTATION);
	return generateExactly(permutation, orientation, MINIMUM_SCRAMBLE_LENGTH);
}

char* PuzzleScrambleTwoByTwo(const int64_t seed) {
	int64_t currentSeed = SEED_INITIALIZE(seed);
	return generateRandomMoves(&currentSeed);
}
